<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Form view inherit -->
    <record id="view_tax_form_inherit"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.account.view.tax.form.inherit</field>
        <field name="inherit_id"
               ref="account.view_tax_form"
        />
        <field name="model">account.tax</field>
        <field name="priority">36</field>
        <field name="arch"
               type="xml"
        >
            <xpath expr="//page[@name='advanced_options']//group[1]"
                   position="after"
            >
                <group name="l10n_hu"
                       string="HU"
                >
                    <group name="l10n_hu_1">
                        <field name="l10n_hu_category"
                               string="Category"
                        />
                        <field name="l10n_hu_vat_type"
                               attrs="{'invisible': [('l10n_hu_category', '!=', 'vat')]}"
                               string="VAT Type"
                        />
                        <field name="l10n_hu_vat_declaration"
                               attrs="{'invisible': [('l10n_hu_category', '!=', 'vat')]}"
                               string="VAT Declaration"
                               widget="boolean_toggle"
                        />
                        <field name="l10n_hu_vat_percentage"
                               attrs="{'invisible': [('l10n_hu_vat_type', '!=', 'percentage')]}"
                               class="oe_inline"
                               string="VAT Percentage"
                        />
                        <field name="l10n_hu_vat_exemption_case"
                               attrs="{'invisible': [('l10n_hu_vat_type', '!=', 'exemption')]}"
                               string="Exception Case"
                        />
                        <field name="l10n_hu_vat_out_of_scope_case"
                               attrs="{'invisible': [('l10n_hu_vat_type', '!=', 'out_of_scope')]}"
                               string="Out of Scope Case"
                        />
                        <field name="l10n_hu_vat_amount_mismatch_case"
                               attrs="{'invisible': [('l10n_hu_vat_type', 'not in', ['margin_scheme_vat', 'margin_scheme_no_vat'])]}"
                               string="Mismatch Case"
                        />
                        <field name="l10n_hu_vat_reason"
                               attrs="{'invisible': [('l10n_hu_vat_type', 'not in', ['exemption', 'out_of_scope', 'domestic_reverse_charge'])]}"
                               string="Reason"
                        />
                    </group>
                    <group name="l10n_hu_2">
                        <field name="l10n_hu_api_enabled"
                               widget="boolean_toggle"
                        />
                        <field name="l10n_hu_technical_name"
                               attrs="{'readonly': [('l10n_hu_api_enabled', '=', True)]}"
                        />
                        <label name="l10n_hu_actions_label"
                               for="action_l10n_hu_update_configuration"
                               string="Actions"
                        />
                        <div name="l10n_hu_actions_div">
                            <button name="action_l10n_hu_update_configuration"
                                    class="btn-link btn-sm"
                                    icon="fa-bolt"
                                    string="Update Configuration"
                                    type="object"
                            />
                        </div>
                    </group>
                </group>
            </xpath>
        </field>
    </record>
</odoo>
