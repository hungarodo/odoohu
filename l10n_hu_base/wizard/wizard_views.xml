<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Form view -->
    <record id="wizard_view_form"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.wizard.view.form</field>
        <field name="model">l10n.hu.wizard</field>
        <field name="arch"
               type="xml"
        >
            <form>
                <group name="main">
                    <group name="base">
                        <!-- TECHNICAL -->
                        <field name="active_model"
                               force_save="1"
                               invisible="1"
                               options="{'no_open': True,}"
                               readonly="1"
                        />
                        <field name="active_model_id"
                               force_save="1"
                               invisible="1"
                        />
                        <field name="active_model_name"
                               invisible="1"
                        />
                        <field name="company"
                               force_save="1"
                               invisible="1"
                        />
                        <!-- ACTION TYPES -->
                        <field name="action_type_visible"
                               invisible="1"
                        />
                        <field name="action_type"
                               attrs="{
                                   'invisible': [('action_type_visible', '=', False)],
                               }"
                               required="1"
                        />
                        <!-- PARTNER -->
                        <field name="action_partner_editable"
                               invisible="1"
                        />
                        <field name="action_partner"
                               attrs="{
                                   'invisible': [('action_type', '!=', 'partner')],
                                   'readonly': [('action_partner_editable', '=', False)],
                                   'required': [('action_type', '=', 'partner')],
                               }"
                               string="Action"
                        />
                    </group>
                    <group name="cards">
                        <!-- PARTNER -->
                        <div name="partner_info"
                             attrs="{'invisible': [
                                 ('action_type', '!=', 'partner'),
                             ]}"
                             class="card text-white bg-info"
                             colspan="2"
                        >
                            <div class="card-header">
                                <i class="fa fa-info-circle mr-1"/>
                                Information
                            </div>
                            <div class="card-body">
                                <p class="card-text"
                                   attrs="{'invisible': [
                                       '|',
                                       ('action_type', '!=', 'partner'),
                                       ('action_partner', '!=', False)
                                   ]}"
                                >
                                    Manage partners
                                </p>
                                <p class="card-text"
                                   attrs="{'invisible': [
                                       '|',
                                       ('action_type', '!=', 'partner'),
                                       ('action_partner', '!=', 'list')
                                   ]}"
                                >
                                    List partners
                                </p>
                            </div>
                        </div>
                    </group>
                </group>
                <notebook>
                    <page name="partner"
                          attrs="{
                              'invisible': [('partner_visible', '=', False)],
                          }"
                          string="Partner"
                    >
                        <group>
                            <field name="partner_visible"
                                   invisible="1"
                            />
                            <field name="partner"
                                   colspan="2"
                                   nolabel="1"
                                   widget="many2many_tags"
                            />
                        </group>
                    </page>
                </notebook>
                <footer>
                    <button name="action_execute"
                            class="btn-primary"
                            default_focus="1"
                            string="Execute"
                            type="object"
                    />
                    <button special="cancel"
                            class="btn-default"
                            string="Cancel"
                    />
                </footer>
            </form>
        </field>
    </record>
</odoo>
