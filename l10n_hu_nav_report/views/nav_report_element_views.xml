<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Form view -->
    <record id="nav_report_element_view_form"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.nav.report.element.view.form</field>
        <field name="model">l10n.hu.nav.report.element</field>
        <field name="priority">8</field>
        <field name="arch"
               type="xml"
        >
            <form>
                <header>

                </header>
                <sheet>
                    <div name="button_box"
                         class="oe_button_box"
                    >
                        <span class="float-start">
                            <field name="display_name"
                                   class="p-3 font-weight-bold"
                                   readonly="1"
                            />
                        </span>
                        <button name="action_list_report_outputs"
                                class="oe_stat_button"
                                icon="fa-list"
                                type="object"
                        >
                            <field name="report_output_count"
                                   string="Report Output"
                                   widget="statinfo"
                            />
                        </button>
                    </div>
                    <widget name="web_ribbon"
                            attrs="{'invisible': [('active', '=', True)]}"
                            bg_color="bg-danger"
                            title="Archived"
                    />
                    <h4 class="oe_title">
                        <field name="name"
                               placeholder="Name..."
                        />
                    </h4>
                    <group name="base">
                        <group>
                            <field name="element_type"
                                   required="1"
                                   string="Type"
                            />
                            <field name="code"/>
                        </group>
                        <group>
                            <field name="description"
                                   placeholder="Public description..."
                                   style="word-break: break-word;"
                            />
                        </group>
                    </group>
                    <notebook>
                        <page name="details"
                              string="Details"
                        >
                            <group name="details_1">
                                <group name="details_1">
                                    <field name="notes"
                                           placeholder="Internal notes..."
                                           style="word-break: break-word;"
                                    />
                                </group>
                                <group name="details_2">
                                    <field name="sequence"
                                           class="oe_inline"
                                    />
                                    <field name="api_enabled"
                                           widget="boolean_toggle"
                                    />
                                </group>
                            </group>
                            <group name="details_2">
                                <group name="input"
                                       string="Input"
                                >
                                    <field name="input_method"
                                           required="1"
                                           string="Method"
                                    />
                                    <field name="input_rule"
                                           attrs="{'invisible': [('input_method', '!=', 'rule')]}"
                                           domain="[('rule_type', '=', 'report_input')]"
                                           options="{'no_quick_create': True,}"
                                           string="Rule"
                                    />
                                    <field name="input_locked"
                                           attrs="{'invisible': [('input_method', '=', 'rule')]}"
                                           string="Locked"
                                           widget="boolean_toggle"
                                    />
                                </group>
                                <group name="output"
                                       string="Output"
                                >
                                    <field name="output_method"
                                           string="Method"
                                    />
                                    <field name="value_type"
                                           attrs="{'invisible': [('output_method', '!=', 'simple')]}"
                                           string="Value Type"
                                    />
                                    <field name="output_rule"
                                           attrs="{'invisible': [('output_method', '!=', 'rule')]}"
                                           domain="[('rule_type', '=', 'report_output')]"
                                           options="{'no_quick_create': True,}"
                                           string="Rule"
                                    />
                                    <field name="value_boolean"
                                           attrs="{
                                               'invisible': [
                                                   '|',
                                                   ('input_method', '!=', 'fixed'),
                                                   ('value_type', '!=', 'boolean'),
                                               ]
                                           }"
                                           string="Value"
                                           widget="boolean_toggle"
                                    />
                                    <field name="value_char"
                                           attrs="{
                                               'invisible': [
                                                   '|',
                                                   ('input_method', '!=', 'fixed'),
                                                   ('value_type', '!=', 'char'),
                                               ]
                                           }"
                                           placeholder="Enter value..."
                                           string="Value"
                                    />
                                    <field name="value_date"
                                           attrs="{
                                               'invisible': [
                                                   '|',
                                                   ('input_method', '!=', 'fixed'),
                                                   ('value_type', '!=', 'date'),
                                               ]
                                           }"
                                           string="Value"
                                    />
                                    <field name="value_datetime"
                                           attrs="{
                                               'invisible': [
                                                   '|',
                                                   ('input_method', '!=', 'fixed'),
                                                   ('value_type', '!=', 'datetime'),
                                               ]
                                           }"
                                           string="Value"
                                    />
                                    <field name="value_float"
                                           attrs="{
                                               'invisible': [
                                                   '|',
                                                   ('input_method', '!=', 'fixed'),
                                                   ('value_type', '!=', 'float'),
                                               ]
                                           }"
                                           string="Value"
                                    />
                                    <field name="value_html"
                                           attrs="{
                                               'invisible': [
                                                   '|',
                                                   ('input_method', '!=', 'fixed'),
                                                   ('value_type', '!=', 'html'),
                                               ]
                                           }"
                                           string="Value"
                                    />
                                    <field name="value_integer"
                                           attrs="{
                                               'invisible': [
                                                   '|',
                                                   ('input_method', '!=', 'fixed'),
                                                   ('value_type', '!=', 'integer'),
                                               ]
                                           }"
                                           string="Value"
                                    />
                                    <field name="value_text"
                                           attrs="{
                                               'invisible': [
                                                   '|',
                                                   ('input_method', '!=', 'fixed'),
                                                   ('value_type', '!=', 'text'),
                                               ]
                                           }"
                                           placeholder="Enter value..."
                                           string="Value"
                                    />
                                    <field name="output_locked"
                                           string="Locked"
                                           widget="boolean_toggle"
                                    />
                                </group>
                                <group name="input_filter"
                                       attrs="{'invisible': [('input_method', '!=', 'rule')]}"
                                       string="Input Filter"
                                >
                                    <div colspan="2">
                                        <field name="input_domain"
                                               nolabel="1"
                                               options="{'model': 'l10n.hu.nav.report.input'}"
                                               string="Input Domain"
                                               widget="domain"
                                        />
                                    </div>
                                    <field name="input_limit"
                                           class="oe_inline"
                                           string="Input Limit"
                                    />
                                    <field name="input_order"
                                           string="Input Order"
                                    />
                                </group>
                                <group name="nav"
                                       string="NAV"
                                >
                                    <field name="nav_editable"
                                           widget="boolean_toggle"
                                    />
                                    <field name="nav_form"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Form"
                                    />
                                    <field name="nav_code"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Code"
                                    />
                                    <field name="nav_name"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Name"
                                    />
                                    <field name="nav_data_type"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Data Type"
                                    />
                                    <field name="nav_max_length"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Max. Length"
                                    />
                                    <field name="nav_page"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Page"
                                    />
                                    <field name="nav_row"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Row"
                                    />
                                    <field name="nav_column"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Column"
                                    />
                                    <field name="nav_dynamic"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="Dynamic"
                                    />
                                    <field name="nav_eazon"
                                           attrs="{
                                               'readonly': [('nav_editable', '=', False)],
                                           }"
                                           string="EAzon"
                                    />
                                </group>
                            </group>
                        </page>
                        <page name="audit"
                              attrs="{'invisible': [('id', '=', False)]}"
                              string="Audit"
                        >
                            <group>
                                <group name="company">
                                    <field name="reference"
                                           readonly="1"
                                    />
                                    <field name="id"
                                           readonly="1"
                                    />
                                    <field name="active"
                                           readonly="1"
                                    />
                                    <field name="company"
                                           readonly="1"
                                    />
                                    <field name="template"
                                           force_save="1"
                                           readonly="1"
                                    />
                                </group>
                                <group name="audit">
                                    <field name="create_uid"
                                           readonly="1"
                                    />
                                    <field name="create_date"
                                           readonly="1"
                                    />
                                    <field name="write_uid"
                                           readonly="1"
                                    />
                                    <field name="write_date"
                                           readonly="1"
                                    />
                                </group>
                            </group>
                            <group name="technical"
                                   groups="base.group_no_one"
                                   string="Technical"
                            >
                                <group>
                                    <field name="technical_name"
                                           attrs="{'readonly': [('api_enabled', '=', True)]}"
                                           style="word-break: break-word;"
                                    />
                                    <field name="technical_type"
                                           attrs="{'readonly': [('api_enabled', '=', True)]}"
                                    />
                                </group>
                                <group>
                                    <field name="technical_status"/>
                                    <field name="technical_timestamp"/>
                                </group>
                                <group colspan="2">
                                    <field name="technical_data"
                                           style="word-break: break-word;"
                                    />
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="activity_ids"
                           widget="mail_activity"
                    />
                    <field name="message_follower_ids"
                           widget="mail_followers"
                    />
                    <field name="message_ids"
                           widget="mail_thread"
                    />
                </div>
            </form>
        </field>
    </record>
    <!-- List view -->
    <record id="nav_report_element_view_list"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.nav.report.element.view.list</field>
        <field name="model">l10n.hu.nav.report.element</field>
        <field name="priority">16</field>
        <field name="arch"
               type="xml"
        >
            <tree multi_edit="1">
                <field name="sequence"
                       widget="handle"
                />
                <field name="template"/>
                <field name="name"/>
                <field name="description"
                       optional="hide"
                />
                <field name="code"/>
                <field name="element_type"/>
                <field name="input_method"/>
                <field name="input_rule"
                       optional="hide"
                />
                <field name="value_type"/>
                <field name="output_rule"
                       optional="hide"
                />
                <field name="section_object"
                       optional="hide"
                />
                <field name="nav_form"
                       optional="hide"
                />
                <field name="nav_code"
                       optional="hide"
                />
                <field name="nav_page"
                       optional="hide"
                />
                <field name="nav_eazon"
                       optional="show"
                />
                <field name="notes"
                       optional="hide"
                />
                <field name="company"
                       optional="hide"
                />
            </tree>
        </field>
    </record>
    <!-- List view template -->
    <record id="nav_report_element_view_list_template"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.nav.report.element.view.list.template</field>
        <field name="model">l10n.hu.nav.report.element</field>
        <field name="priority">32</field>
        <field name="arch"
               type="xml"
        >
            <tree multi_edit="1">
                <field name="sequence"
                       widget="handle"
                />
                <field name="id"
                       optional="hide"
                />
                <field name="template"
                       optional="hide"
                />
                <field name="name"/>
                <field name="description"
                       optional="hide"
                />
                <field name="code"/>
                <field name="element_type"/>
                <field name="input_method"/>
                <field name="input_rule"
                       optional="hide"
                />
                <field name="value_type"/>
                <field name="output_rule"
                       optional="hide"
                />
                <field name="section_object"
                       optional="hide"
                />
                <field name="nav_form"
                       optional="hide"
                />
                <field name="nav_code"
                       optional="hide"
                />
                <field name="nav_page"
                       optional="hide"
                />
                <field name="nav_eazon"
                       optional="show"
                />
                <field name="notes"
                       optional="hide"
                />
            </tree>
        </field>
    </record>
    <!-- Search view -->
    <record id="nav_report_element_view_search"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.nav.report.element.view.search</field>
        <field name="model">l10n.hu.nav.report.element</field>
        <field name="priority">16</field>
        <field name="arch"
               type="xml"
        >
            <search>
                <!-- Field -->
                <field name="name"/>
                <field name="code"/>
                <field name="nav_form"/>
                <field name="nav_eazon"/>
                <field name="input_rule"/>
                <field name="output_rule"/>
                <!-- Filter -->
                <filter name="archived_filter"
                        domain="[('active','=', False)]"
                        string="Archived"
                />
                <separator/>
                <filter name="no_template_filter"
                        domain="[('template','=', False)]"
                        string="No Template"
                />
                <!-- Filter group by -->
                <group name="filter_group_by"
                       expand="0"
                       string="Group By"
                >
                    <filter name="element_type_filter_group_by"
                            context="{'group_by': 'element_type'}"
                            string="Element Type"
                    />
                    <filter name="input_method_filter_group_by"
                            context="{'group_by': 'input_method'}"
                            string="Value Method"
                    />
                    <filter name="input_rule_filter_group_by"
                            context="{'group_by': 'input_rule'}"
                            string="Input Rule"
                    />
                    <filter name="value_type_filter_group_by"
                            context="{'group_by': 'value_type'}"
                            string="Value Type"
                    />
                    <filter name="output_rule_filter_group_by"
                            context="{'group_by': 'output_rule'}"
                            string="Output Rule"
                    />
                    <filter name="nav_form_filter_group_by"
                            context="{'group_by': 'nav_form'}"
                            string="NAV Form"
                    />
                    <filter name="nav_page_filter_group_by"
                            context="{'group_by': 'nav_page'}"
                            string="NAV Page"
                    />
                </group>
            </search>
        </field>
    </record>
</odoo>
