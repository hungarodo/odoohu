<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Form view -->
    <record id="report_wizard_view_form_inherit"
            model="ir.ui.view"
    >
        <field name="name">l10.hu.nav.report.wizard.view.form.inherit</field>
        <field name="model">l10n.hu.wizard</field>
        <field name="inherit_id"
			   ref="l10n_hu_base.wizard_view_form"
		/>
        <field name="arch"
               type="xml"
        >
            <!-- Actions -->
            <xpath expr="//field[@name='action_type']"
                   position="after"
            >
                <field name="nav_report_action_editable"
                       invisible="1"
                />
                <field name="nav_report_action_required"
                       invisible="1"
                />
                <field name="nav_report_action_visible"
                       invisible="1"
                />
                <field name="nav_report_action"
                       attrs="{
                           'invisible': ['|', ('action_type', '!=', 'nav_report'), ('nav_report_action_visible', '=', False)],
                           'readonly': [('nav_report_action_editable', '=', False)],
                           'required': ['|', ('action_type', '=', 'nav_report'), ('nav_report_action_required', '=', True)],
                       }"
                       force_save="1"
                       string="Action"
                />
                <field name="nav_report_rule"
                       attrs="{
                           'invisible': ['|', ('action_type', '!=', 'nav_report'), ('nav_report_action', '!=', 'run_rule')],
                       }"
                       options="{'no_create': True,}"
                       string="Rule"
                />
                <field name="nav_report_template"
                       attrs="{
                           'invisible': ['|', ('action_type', '!=', 'nav_report'), ('nav_report_action', '!=', 'create_report')],
                       }"
                       options="{'no_create': True,}"
                       string="Template"
                />
                <field name="nav_report_print_locked"
                       attrs="{
                           'invisible': ['|', ('action_type', '!=', 'nav_report'), ('nav_report_action', '!=', 'print_report')],
                       }"
                       string="Print Locked"
                       widget="boolean_toggle"
                />
            </xpath>
            <!-- Cards -->
            <xpath expr="//group[@name='cards']"
                   position="inside"
            >
                <div name="nav_report_info"
                     attrs="{'invisible': [('action_type', '!=', 'nav_report')]}"
                     class="card text-white bg-info"
                     colspan="2"
                >
                    <div class="card-header">
                        <i class="fa fa-info-circle mr-1"/>
                        Information
                    </div>
                    <div class="card-body">
                        <!-- Create report -->
                        <p class="card-text"
                           attrs="{'invisible': [('nav_report_action', '!=', 'create_report')]}"
                        >
                            Create new report
                        </p>
                        <!-- Print report -->
                        <p class="card-text"
                           attrs="{'invisible': [('nav_report_action', '!=', 'print_report')]}"
                        >
                            Print report outputs into a file
                        </p>
                        <!-- Print report - locked -->
                        <p class="card-text"
                           attrs="{'invisible': ['|', ('nav_report_action', '!=', 'print_report'), ('nav_report_print_locked', '=', False)]}"
                        >
                            Print only locked outputs
                        </p>
                        <!-- Run report -->
                        <p class="card-text"
                           attrs="{'invisible': [('nav_report_action', '!=', 'run_report')]}"
                        >
                            Run report
                        </p>
                        <!-- Run rule -->
                        <p class="card-text"
                           attrs="{'invisible': [('nav_report_action', '!=', 'run_rule')]}"
                        >
                            Run report rule
                        </p>
                    </div>
                </div>
            </xpath>
            <!-- Notebook page -->
            <xpath expr="//notebook"
                   position="inside"
            >
                <page name="nav_report"
                      attrs="{
                          'invisible': [
                              '|',
                              ('action_type', '!=', 'nav_report'),
                              ('nav_report_visible', '=', False),
                          ],
                      }"
                      string="NAV Report"
                >
                    <group>
                        <field name="nav_report_editable"
                               invisible="1"
                        />
                        <field name="nav_report_required"
                               invisible="1"
                        />
                        <field name="nav_report_visible"
                               invisible="1"
                        />
                        <field name="nav_report"
                               attrs="{
                                   'readonly': [
                                       ('nav_report_editable', '=', False),
                                   ],
                                   'required': [
                                       ('nav_report_required', '=', True),
                                   ],
                               }"
                               colspan="2"
                               nolabel="1"
                               options="{'no_create': True,}"
                               widget="many2many_tags"
                        />
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
