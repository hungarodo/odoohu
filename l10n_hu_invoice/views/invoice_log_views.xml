<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Form view -->
    <record id="invoice_log_view_form"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.invoice.log.view.form</field>
        <field name="model">l10n.hu.invoice.log</field>
        <field name="priority">16</field>
        <field name="arch"
               type="xml"
        >
            <form create="0"
                  delete="0"
                  edit="0"
            >
                <sheet>
                    <div name="button_box"
                         class="oe_button_box"
                    >
                    </div>
                    <h4>
                       <field name="display_name"/>
                    </h4>
                    <!-- Details -->
                    <div name="details_info"
                         attrs="{'invisible': [
                             '|',
                             ('id', '=', False),
                             ('details_info', 'in', [False, '']),
                         ]}"
                         class="card text-white bg-info"
                         colspan="4"
                    >
                        <div class="card-header">
                            <i class="fa fa-info-circle"/> Information
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                <field name="details_info"/>
                            </p>
                        </div>
                    </div>
                    <div name="details_success"
                         attrs="{'invisible': [
                             '|',
                             ('id', '=', False),
                             ('details_success', 'in', [False, '']),
                         ]}"
                         class="card text-white bg-success"
                         colspan="4"
                    >
                        <div class="card-header">
                            <i class="fa fa-check"/> Success
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                <field name="details_success"/>
                            </p>
                        </div>
                    </div>
                    <div name="details_warning"
                         attrs="{'invisible': [
                             '|',
                             ('id', '=', False),
                             ('details_warning', 'in', [False, '']),
                         ]}"
                         class="card text-white bg-warning"
                         colspan="4"
                    >
                        <div class="card-header">
                            <i class="fa fa-exclamation-triangle"/> Warning
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                <field name="details_warning"/>
                            </p>
                        </div>
                    </div>
                    <div name="details_error"
                         attrs="{'invisible': [
                             '|',
                             ('id', '=', False),
                             ('details_error', 'in', [False, '']),
                         ]}"
                         class="card text-white bg-danger"
                         colspan="4"
                    >
                        <div class="card-header">
                            <i class="fa fa-exclamation-circle"/> Error
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                <field name="details_error"/>
                            </p>
                        </div>
                    </div>
                    <!-- Base fields -->
                    <group name="base">
                        <group>
                            <field name="description"/>
                        </group>
                        <group>
                            <field name="invoice_number"/>
                            <field name="linked_user"/>
                            <field name="timestamp"/>
                        </group>
                    </group>
                    <notebook readonly="1">
                        <page name="audit"
                              string="Audit"
                              attrs="{'invisible': [('id', '=', False)]}"
                        >
                            <group name="audit">
                                <group>
                                    <field name="id"/>
                                    <field name="company"/>
                                    <field name="account_move"/>
                                    <field name="invoice"/>
                                    <field name="related_invoice"/>
                                    <field name="source"/>
                                </group>
                                <group>
                                    <field name="create_uid"
                                           readonly="1"
                                    />
                                    <field name="create_date"
                                           readonly="1"
                                    />
                                    <field name="write_uid"
                                           readonly="1"
                                    />
                                    <field name="write_date"
                                           readonly="1"
                                    />
                                </group>
                            </group>
                            <group name="technical">
                                <group>
                                    <field name="technical_status"
                                           readonly="1"
                                    />
                                </group>
                                <group>
                                    <field name="technical_timestamp"
                                           readonly="1"
                                    />
                                </group>
                                <group colspan="2">
                                    <field name="technical_name"
                                           style="word-break: break-word;"
                                           readonly="1"
                                    />
                                    <field name="technical_data"
                                           style="word-break: break-word;"
                                           readonly="1"
                                    />
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- List view -->
    <record id="invoice_log_view_list"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.invoice.log.view.list</field>
        <field name="model">l10n.hu.invoice.log</field>
        <field name="priority">16</field>
        <field name="arch"
               type="xml"
        >
            <tree create="0"
                  delete="0"
                  edit="0"
            >
                <field name="id"
                       optional="hide"
                />
                <field name="invoice"/>
                <field name="description"
                       optional="show"
                />
                <field name="technical_name"
                       optional="hide"
                />
                <field name="source"/>
                <field name="timestamp"/>
                <field name="linked_user"
                       optional="show"
                />
                <field name="invoice_number"
                       optional="hide"
                />
                <field name="related_invoice"
                       optional="hide"
                />
                <field name="related_invoice_number"
                       optional="hide"
                />
                <field name="technical_status"
                       optional="hide"
                />
                <field name="company"
                       optional="hide"
                />
            </tree>
        </field>
    </record>
    <!-- Search view -->
    <record id="invoice_log_view_search"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.invoice.log.view.search</field>
        <field name="model">l10n.hu.invoice.log</field>
        <field name="priority">16</field>
        <field name="arch"
               type="xml"
        >
            <search>
                <field name="invoice"/>
                <field name="description"/>
                <field name="technical_name"/>
                <field name="source"/>
                <field name="linked_user"/>
                <field name="invoice_number"/>
                <field name="related_invoice"/>
                <field name="related_invoice_number"/>
                <group name="filter_group_by"
                       expand="0"
                       string="Group By"
                >
                    <filter name="invoice_filter_group_by"
                            context="{'group_by': 'invoice'}"
                            string="HU Invoice"
                    />
                    <filter name="source_filter_group_by"
                            context="{'group_by': 'source'}"
                            string="Source"
                    />
                    <filter name="timestamp_filter_group_by"
                            context="{'group_by': 'timestamp'}"
                            string="Timestamp"
                    />
                    <filter name="linked_user_filter_group_by"
                            context="{'group_by': 'linked_user'}"
                            string="Linked User"
                    />
                    <filter name="technical_name_filter_group_by"
                            context="{'group_by': 'technical_name'}"
                            string="Technical Name"
                    />
                    <filter name="technical_status_filter_group_by"
                            context="{'group_by': 'technical_status'}"
                            string="Technical Status"
                    />
                </group>
            </search>
        </field>
    </record>
</odoo>
